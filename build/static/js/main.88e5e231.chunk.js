/*!

=========================================================
* Paper Dashboard React - v1.2.0
=========================================================

* Product Page: https://www.creative-tim.com/product/paper-dashboard-react
* Copyright 2020 Creative Tim (http://www.creative-tim.com)

* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

*/
/*! For license information please see main.88e5e231.chunk.js.LICENSE.txt */
(this["webpackJsonpsite-sonar-frontend"]=this["webpackJsonpsite-sonar-frontend"]||[]).push([[0],{52:function(e,a,t){e.exports=t(92)},58:function(e,a,t){},92:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(15),c=t.n(l),s=t(12),m=t(108),i=(t(57),t(58),t(59),t(45)),o=t(93),u=t(94),d=t(95);var E=()=>r.a.createElement(o.a,{color:"transparent",expand:"lg",className:"navbar-absolute fixed-top navbar-transparent"},r.a.createElement(u.a,{fluid:!0},r.a.createElement("div",{className:"navbar-wrapper"},r.a.createElement(d.a,{href:"/"},"Site Sonar - WLCG Configuration Monitoring Tool")))),p=t(96);var h=e=>r.a.createElement("footer",{className:"footer"+(e.default?" footer-default":"")},r.a.createElement(u.a,{fluid:!!e.fluid},r.a.createElement(p.a,null,r.a.createElement("div",{className:"credits ml-auto"},r.a.createElement("div",{className:"copyright"},"\xa9 ",1900+(new Date).getYear(),", Created by JAliEn Team"))))),g=t(16),b=t(7),y=t(26),v=t(10),f=t.n(v),x=t(17),N=t(97),S=t(98),_=t(99),O=t(100),k=t(101),j=t(13),R=t.n(j),C=t(18);var w=e=>{const a=Object(n.useState)([]),t=Object(b.a)(a,2),l=t[0],c=t[1],s="".concat("http://18.220.133.83","/search_keys");Object(n.useEffect)(()=>{function a(){return(a=Object(x.a)(f.a.mark((function a(){var t,n,r,l,m,i,o;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!(t={RunId:e.RunId}).RunId){a.next=11;break}return a.next=4,R.a.post(s,{Run:t});case 4:n=a.sent,r=JSON.parse(n.data),l=[],m=Object(g.a)(r);try{for(m.s();!(i=m.n()).done;)o=i.value,l.push({value:o,label:o,index:e.idx})}catch(u){m.e(u)}finally{m.f()}c([...l]),e.updateChildSearchKeys([...l]);case 11:case"end":return a.stop()}}),a)})))).apply(this,arguments)}!function(){a.apply(this,arguments)}()},[e.RunId]);const m="query_key_input_".concat(e.idx),i="query_value_".concat(e.idx),o=String.fromCharCode(e.idx+65);return r.a.createElement(N.a,{className:"no-border",key:"query_field_".concat(e.idx)},r.a.createElement(S.a,{htmlFor:"variable_name",style:{marginLeft:"10px",marginTop:"10px",marginBottom:"10px"}},o),r.a.createElement("div",{style:{width:"50%",marginTop:"10px",marginBottom:"10px",marginRight:"10px"}},r.a.createElement(C.a,{options:l,"data-id":e.idx,"data-key":"query_key",id:m,onChange:(a,t)=>e.handleSearchKeyFieldChange(a,t)})),r.a.createElement(_.a,{type:"text",name:i,"data-id":e.idx,"data-key":"query_value",id:i,className:"query",onChange:e.handleSearchValueFieldChange,placeholder:"Enter search parameter value",required:!0,style:{background:"#ffffff",marginTop:"10px",marginBottom:"10px",marginRight:"10px",borderRadius:"5px"}}))};var D=e=>{const a="".concat("http://18.220.133.83","/all_sites"),t=Object(n.useState)([]),l=Object(b.a)(t,2),c=l[0],s=l[1],m=Object(n.useState)(!1),i=Object(b.a)(m,2),o=i[0],u=i[1],d=Object(n.useState)(!1),E=Object(b.a)(d,2),p=E[0],h=E[1];Object(n.useEffect)(()=>{function e(){return(e=Object(x.a)(f.a.mark((function e(){var t,n,r,l,c,m;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.get(a);case 2:t=e.sent,n=t.data,(r=[]).push({value:"all",label:"All Sites"}),l=Object(g.a)(n);try{for(l.s();!(c=l.n()).done;)m=c.value,r.push({value:m.site_id,label:m.site_name})}catch(i){l.e(i)}finally{l.f()}s([...r]);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);const v="".concat("http://18.220.133.83","/search_site"),j=Object(n.useState)("1"),D=Object(b.a)(j,2),q=D[0],T=D[1],F=Object(n.useState)(""),I=Object(b.a)(F,2),P=I[0],A=I[1],B=a=>{function t(){return(t=Object(x.a)(f.a.mark((function t(){var n,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=!1,a.forEach(e=>{"Singularity"===e.value&&(n=!0)}),n&&(h(!0),r={SiteId:"all",SearchFields:{A:{query_key:"Singularity",query_value:"SUPPORTED"}},Equation:"A",RunId:e.RunId},R.a.post(v,{SearchFormInput:r}).then(a=>{e.showSearchQuery(r),h(!1),e.storeSearchResults(a.data)})),u(!0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}o||function(){t.apply(this,arguments)}()},L={query_key:"",query_value:""},G=Object(n.useState)([Object(y.a)({},L)]),U=Object(b.a)(G,2),M=U[0],W=U[1],z=(e,a)=>{const t=[...M];t[e.index].query_key=e.value,W(t)},J=e=>{const a=[...M];a[e.target.dataset.id][e.target.dataset.key]=e.target.value.trim(),W(a)};const K=/([A-Z]|\(|\)|&|~|\|| )/,V=/([A-Z])/;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:a=>{a.preventDefault(),h(!0);let t=Object.keys(M).length,n=P.trim().toUpperCase();var r,l=Object(g.a)(n);try{for(l.s();!(r=l.n()).done;){let e=r.value;if(V.test(e)){if(e.charCodeAt(0)-65>=t)return alert("Equation contain invalid letters for identifiers"),void h(!1)}else if(!K.test(e))return alert("Equation contains invalid characters. Only valid characters are [&,|,~,(,)]"),void h(!1)}}catch(i){l.e(i)}finally{l.f()}let c={};for(let e=0;e<Object.keys(M).length;e++){let a=String.fromCharCode(65+e);c[e]=a}let s=function(e,a){const t=Object.keys(e).map(t=>({[a[t]||t]:e[t]}));return Object.assign({},...t)}(M,c);const m={SiteId:q,SearchFields:s,Equation:n,RunId:e.RunId};R.a.post(v,{SearchFormInput:m}).then(a=>{e.showSearchQuery(m),h(!1),e.storeSearchResults(a.data)})},style:{background:"#282C2C",margin:"10px",borderRadius:"5px"}},r.a.createElement(N.a,{className:"no-border"},r.a.createElement(S.a,{htmlFor:"site_id",style:{marginLeft:"10px",marginTop:"10px",marginBottom:"10px"}},"Site ID"),r.a.createElement("div",{style:{width:"50%",marginTop:"10px",marginBottom:"10px"}},r.a.createElement(C.a,{options:c,onChange:e=>{T(e.value)}}))),M.map((a,t)=>r.a.createElement(w,{key:"query-".concat(t),idx:t,handleSearchKeyFieldChange:z,handleSearchValueFieldChange:J,updateChildSearchKeys:B,RunId:e.RunId})),r.a.createElement(N.a,null,r.a.createElement(S.a,{htmlFor:"equation",style:{marginLeft:"10px",marginTop:"10px",marginBottom:"10px"}},"Equation"),r.a.createElement(_.a,{type:"text",name:"equation",id:"equation",onChange:e=>{A(e.target.value)},required:!0,placeholder:"Enter equation",style:{background:"#ffffff",marginTop:"10px",marginBottom:"10px",marginRight:"10px",borderRadius:"5px"}})),r.a.createElement(N.a,{style:{display:"flex"}},r.a.createElement(O.a,{type:"button",className:"btn btn-primary float-left",style:{marginTop:"10px",marginBottom:"10px",marginLeft:"10px",backgroundColor:"#0F709B"},onClick:e=>{W([...M,Object(y.a)({},L)])}},"Add Filter"),r.a.createElement(O.a,{type:"button",className:"btn btn-primary",style:{marginTop:"10px",marginBottom:"10px",marginLeft:"10px",marginRight:"10px",backgroundColor:"#0F709B"},onClick:e=>{const a=[...M];a.splice(-1,1),W(a)}},"Remove Filter"),r.a.createElement(O.a,{type:"submit",value:"Submit",disabled:p,style:{backgroundColor:"#60C73C"}},r.a.createElement(k.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true",color:"yellow",hidden:!p}),"Search"))))},q=t(102),T=t(103),F=t(104),I=t(105),P=t(106),A=t(107),B=t(23);var L=e=>{const a=()=>{const a=[["Site Name","State"]];var t=e.searchData.matching_sites_list,n=Object.keys(e.searchData.matching_sites_list);return 0===Object.keys(t).length&&t.constructor===Object||n.map(e=>{a.push([t[e],"SUPPORTED"])}),t=e.searchData.unmatching_sites_list,n=Object.keys(e.searchData.unmatching_sites_list),0===Object.keys(t).length&&t.constructor===Object||n.map(e=>{a.push([t[e],"NOT SUPPORTED"])}),t=e.searchData.incomplete_sites_list,n=Object.keys(e.searchData.incomplete_sites_list),0===Object.keys(t).length&&t.constructor===Object||n.map(e=>{a.push([t[e],"N/A"])}),a},t=()=>{var a=e.searchData.matching_nodes_data,t=l(),n=[];if(0!==Object.keys(a).length||a.constructor!==Object){const e=Object.keys(a[t[0]]);t.map(t=>{const r={};r.nodename=t;const l={};e.map(e=>{l[e]=a[t][e]}),r.params=l,r.supported="SUPPORTED",n.push(r)})}if(a=e.searchData.unmatching_nodes_data,t=c(),0!==Object.keys(a).length||a.constructor!==Object){var r=Object.keys(a[t[0]]);t.map(e=>{const t={};t.nodename=e;const l={};r.map(t=>{l[t]=a[e][t]}),t.params=l,t.supported="NOT SUPPORTED",n.push(t)})}return n},n=()=>{const e=t(),a=[{label:"Node Name",key:"nodename"}];if(null!=e.length&&0!==e.length)return Object.keys(e[0].params).map(e=>{a.push({label:e,key:"params."+e})}),a.push({label:"Supported",key:"supported"}),a},l=()=>Object.keys(e.searchData.matching_nodes_data),c=()=>Object.keys(e.searchData.unmatching_nodes_data),s=e=>{if(e.params){const a=Object.keys(e.params);return r.a.createElement("tr",{bgcolor:e.color},r.a.createElement("td",{key:e.nodename},r.a.createElement("strong",null,e.nodename)),r.a.createElement("td",null,r.a.createElement(q.a,{border:"1px",style:{color:"white"}},r.a.createElement("tbody",null,r.a.createElement(m,{paramNames:a,params:e.params})))))}return r.a.createElement("tr",null)},m=e=>e.paramNames.map((a,t)=>r.a.createElement("tr",{key:t},r.a.createElement("td",null,r.a.createElement("strong",null,a)),r.a.createElement("td",null,r.a.createElement("strong",null,e.params[a])))),i=e=>r.a.createElement("tr",{bgcolor:e.color},r.a.createElement("td",{key:e.sitename},r.a.createElement("strong",null,e.sitename)),r.a.createElement("td",null,r.a.createElement("strong",null,e.state)));return e.showResult?e.GridSearch?r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-globe text-warning"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Total Grid Sites"),r.a.createElement(P.a,{tag:"p"},e.searchData.total_sites),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-money-coins text-success"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Sites Covered"),r.a.createElement(P.a,{tag:"p"},e.searchData.covered_sites),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-vector text-danger"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Matching Sites"),r.a.createElement(P.a,{tag:"p"},e.searchData.matching_sites),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-favourite-28 text-primary"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Percentage"),r.a.createElement(P.a,{tag:"p"},Math.round(e.searchData.matching_sites/e.searchData.covered_sites*100),"%"),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(B.CSVLink,{data:a(),filename:"site-sonar-sites.csv"},r.a.createElement(O.a,{className:"btn btn-primary",raised:"true",color:"primary"},"Export Results"))),r.a.createElement(q.a,{bordered:!0,style:{color:"white"}},r.a.createElement("thead",{bgcolor:"#282C2C"},r.a.createElement("tr",null,r.a.createElement("th",{key:"sitename"},"Site Name"),r.a.createElement("th",{key:"state"},"State"))),r.a.createElement("tbody",null,(()=>{var a=e.searchData.matching_sites_list;return Object.keys(e.searchData.matching_sites_list).map((e,t)=>r.a.createElement(i,{key:t,sitename:a[e],color:"green",state:"Supported"}))})(),(()=>{var a=e.searchData.unmatching_sites_list;return Object.keys(e.searchData.unmatching_sites_list).map((e,t)=>r.a.createElement(i,{key:t,sitename:a[e],color:"red",state:"Not Supported"}))})(),(()=>{var a=e.searchData.incomplete_sites_list;return Object.keys(e.searchData.incomplete_sites_list).map((e,t)=>r.a.createElement(i,{key:t,sitename:a[e],color:"orange",state:"N/A"}))})())))):r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-globe text-warning"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Total Nodes"),r.a.createElement(P.a,{tag:"p"},"~",e.searchData.total_nodes),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-money-coins text-success"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Nodes Covered"),r.a.createElement(P.a,{tag:"p"},e.searchData.covered_nodes),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-vector text-danger"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Matching Nodes"),r.a.createElement(P.a,{tag:"p"},e.searchData.matching_nodes),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-favourite-28 text-primary"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Percentage"),r.a.createElement(P.a,{tag:"p"},Math.round(e.searchData.matching_nodes/e.searchData.covered_nodes*100),"%"),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))))),r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement(B.CSVLink,{data:t(),headers:n(),filename:"site-sonar-nodes.csv"},r.a.createElement(O.a,{className:"btn btn-primary",raised:"true",color:"primary"},"Export Results"))),r.a.createElement(q.a,{bordered:!0,style:{color:"white"}},r.a.createElement("thead",{bgcolor:"#282C2C"},r.a.createElement("tr",null,r.a.createElement("th",{key:"nodename"},"Node Name"),r.a.createElement("th",{key:"params"},"Parameters"))),r.a.createElement("tbody",null,(()=>{var a=e.searchData.matching_nodes_data;return l().map((e,t)=>r.a.createElement(s,{key:t,nodename:e,params:a[e],color:"green"}))})(),(()=>{var a=e.searchData.unmatching_nodes_data;return c().map((e,t)=>r.a.createElement(s,{key:t,nodename:e,params:a[e],color:"red"}))})())))):r.a.createElement("div",null)};var G=e=>{const a="".concat("http://18.220.133.83","/all_runs"),t=Object(n.useState)([]),l=Object(b.a)(t,2),c=l[0],s=l[1];return Object(n.useEffect)(()=>{function t(){return(t=Object(x.a)(f.a.mark((function t(){var n,r,l,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R.a.get(a);case 2:for(c in n=t.sent,e.handleRunChange(n.data),r=n.data.all_runs,l=[],r)l.push({value:r[c].run_id,label:"ID: ".concat(r[c].run_id,", Finished at: ").concat(r[c].finished_at)});s([...l]);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[]),r.a.createElement("div",null,r.a.createElement(p.a,null,r.a.createElement(N.a,{className:"no-border"},r.a.createElement(S.a,{htmlFor:"run_id"},"Run ID"),r.a.createElement("div",{style:{width:"50%"}},r.a.createElement(C.a,{options:c,onChange:a=>{e.handleRunSelection(a.value)},placeholder:"Change Run Id"})))),r.a.createElement(p.a,null,r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-globe text-warning"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Run Id"),r.a.createElement(P.a,{tag:"p"},e.SelectedRun.run_id),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-money-coins text-success"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Started At"),r.a.createElement(P.a,{tag:"p",style:{fontSize:15}},e.SelectedRun.started_at),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-vector text-danger"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"Finished At"),r.a.createElement(P.a,{tag:"p",style:{fontSize:15}},e.SelectedRun.finished_at),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null)))),r.a.createElement(T.a,{lg:"3",md:"6",sm:"6"},r.a.createElement(F.a,{className:"card-stats"},r.a.createElement(I.a,null,r.a.createElement(p.a,null,r.a.createElement(T.a,{md:"4",xs:"5"},r.a.createElement("div",{className:"icon-big text-center icon-warning"},r.a.createElement("i",{className:"nc-icon nc-favourite-28 text-primary"}))),r.a.createElement(T.a,{md:"8",xs:"7"},r.a.createElement("div",{className:"numbers"},r.a.createElement("p",{className:"card-category"},"State"),r.a.createElement(P.a,{tag:"p",style:{fontSize:18}},e.SelectedRun.state),r.a.createElement("p",null))))),r.a.createElement(A.a,null,r.a.createElement("hr",null))))))};var U=e=>r.a.createElement("div",{style:{background:"#282C2C",margin:"10px",borderRadius:"5px"}},r.a.createElement(N.a,null,r.a.createElement("h3",{htmlFor:"equation-label",style:{margin:"auto",marginTop:"10px",color:"white"}},"Search Results for...")),r.a.createElement(N.a,null,r.a.createElement(S.a,{htmlFor:"equation",hidden:e.hidden,style:{margin:"auto",marginBottom:"10px"}},e.equation)));var M=()=>{const e=Object(n.useState)({GridSearch:"",ShowResult:!1,SearchResults:{}}),a=Object(b.a)(e,2),t=a[0],l=a[1],c=Object(n.useState)({value:"",hidden:!0}),s=Object(b.a)(c,2),m=s[0],i=s[1],o=Object(n.useState)({all_runs:"Loading"}),u=Object(b.a)(o,2),d=u[0],E=u[1],p=Object(n.useState)({selected_run:"Loading"}),h=Object(b.a)(p,2),y=h[0],v=h[1];return r.a.createElement("div",null,r.a.createElement(G,{AllRuns:d,SelectedRun:y,handleRunChange:e=>{const a={};for(const t in e.all_runs)a[e.all_runs[t].run_id]=e.all_runs[t];E(a),v(e.selected_run)},handleRunSelection:e=>{v(d[e])}}),r.a.createElement(D,{storeSearchResults:e=>{!0===e.grid_search?l({GridSearch:!0,ShowResult:!0,SearchResults:e}):l({GridSearch:!1,ShowResult:!0,SearchResults:e})},showSearchQuery:e=>{const a=/([A-Z])/;var t,n=e.Equation,r=Object(g.a)(n);try{for(r.s();!(t=r.n()).done;){let r=t.value;a.test(r)&&(n=n.replace(r,"("+e.SearchFields[r].query_key+" : "+e.SearchFields[r].query_value+")"))}}catch(l){r.e(l)}finally{r.f()}i({value:n,hidden:!1})},RunId:y.run_id,style:{margin:"10px"}}),r.a.createElement(U,{equation:m.value,hidden:m.hidden}),r.a.createElement(L,{searchData:t.SearchResults,showResult:t.ShowResult,GridSearch:t.GridSearch}))};var W,z=[{path:"/",name:"Site Sonar - WLCG Configuration Monitoring Tool",icon:"nc-icon nc-bank",component:e=>r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement(M,e))),layout:"/admin"}];class J extends r.a.Component{constructor(e){super(e),this.handleActiveClick=e=>{this.setState({activeColor:e})},this.handleBgClick=e=>{this.setState({backgroundColor:e})},this.state={backgroundColor:"black",activeColor:"info"},this.mainPanel=r.a.createRef()}componentDidMount(){navigator.platform.indexOf("Win")>-1&&(W=new i.a(this.mainPanel.current),document.body.classList.toggle("perfect-scrollbar-on"))}componentWillUnmount(){navigator.platform.indexOf("Win")>-1&&(W.destroy(),document.body.classList.toggle("perfect-scrollbar-on"))}componentDidUpdate(e){"PUSH"===e.history.action&&(this.mainPanel.current.scrollTop=0,document.scrollingElement.scrollTop=0)}render(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main-panel",ref:this.mainPanel},r.a.createElement(E,this.props),r.a.createElement(m.c,null,z.map((e,a)=>r.a.createElement(m.a,{path:e.path,component:e.component,key:a}))),r.a.createElement(h,{fluid:!0})))}}var K=J;const V=Object(s.a)();c.a.render(r.a.createElement(m.b,{history:V},r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",render:e=>r.a.createElement(K,e)}))),document.getElementById("root"))}},[[52,1,2]]]);
//# sourceMappingURL=main.88e5e231.chunk.js.map